{"version":3,"file":"js/src_js_components_lazy-load_js.js","mappings":";;;;;;;;;;;;;;;;AAAwB;AAC4B;AAE7C,IAAME,QAAQ,GAAG,SAAXA,QAAQA,CAAA,EAAS;EAC7BC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;EAC9B;EACA,IAAMC,MAAM,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,YAAY,CAAC;EAEtDJ,OAAO,CAACC,GAAG,CAACC,MAAM,CAAC;EAEnB,IAAI,CAACA,MAAM,CAACG,MAAM,EAAE;EAEpBR,4CAAI,CAACS,cAAc,CAACR,gEAAa,CAAC;;EAElC;EACA;EACA;EACA;EACA;EACA;;EAEA;;EAEA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;AACD,CAAC","sources":["webpack:///./src/js/components/lazy-load.js"],"sourcesContent":["import gsap from 'gsap';\r\nimport ScrollTrigger from 'gsap/dist/ScrollTrigger';\r\n\r\nexport const lazyLoad = () => {\r\n\tconsole.log('laaaaaaaaaaaazy');\r\n\t// NOTE: just put data-src to your img/video tag or data-srcset to <source> tag of picture\r\n\tconst $nodes = document.querySelectorAll('[data-src]');\r\n\r\n\tconsole.log($nodes);\r\n\r\n\tif (!$nodes.length) return;\r\n\r\n\tgsap.registerPlugin(ScrollTrigger);\r\n\r\n\t// $nodes.forEach(($node) => {\r\n\t// \tconst $parent = $node.parentElement;\r\n\t// \tconst wrapperMode = $parent.tagName;\r\n\t// \tconst srcSet = $node.dataset.srcset;\r\n\t// \tconst source = $node.dataset.src;\r\n\t// \tconst $poster = $parent.querySelector('.js-video-poster');\r\n\r\n\t// \tif (!srcSet && !source) return;\r\n\r\n\t// \tconst needRefresh = $node.dataset.refresh === undefined || $parent.dataset.refresh === undefined;\r\n\r\n\t// \tconst trigger = ScrollTrigger.create({\r\n\t// \t\ttrigger: wrapperMode === 'VIDEO' ? $parent : $node,\r\n\t// \t\tstart: 'top-=200% bottom',\r\n\t// \t\tend: 'bottom+=200% top',\r\n\t// \t\tonEnter: () => {\r\n\t// \t\t\t// eslint-disable-next-line no-param-reassign\r\n\t// \t\t\t$node.oncanplay = () => {\r\n\t// \t\t\t\t$poster.classList.add('hero__video_poster--loaded_mod');\r\n\t// \t\t\t\ttrigger?.kill();\r\n\t// \t\t\t\tif (needRefresh) {\r\n\t// \t\t\t\t\tScrollTrigger.refresh();\r\n\t// \t\t\t\t}\r\n\t// \t\t\t};\r\n\r\n\t// \t\t\tif (wrapperMode === 'PICTURE') {\r\n\t// \t\t\t\tconst $sources = $parent.querySelectorAll('source');\r\n\t// \t\t\t\t$sources.forEach(($src) => {\r\n\t// \t\t\t\t\t// eslint-disable-next-line no-param-reassign\r\n\t// \t\t\t\t\t$src.srcset = $src.dataset.srcset;\r\n\t// \t\t\t\t});\r\n\t// \t\t\t}\r\n\r\n\t// \t\t\t// eslint-disable-next-line no-param-reassign\r\n\t// \t\t\t$node.src = source;\r\n\r\n\t// \t\t\tif (wrapperMode === 'VIDEO') {\r\n\t// \t\t\t\tconsole.warn('lazy loading doesnt work for video <source> tag, use data-src for <video> only');\r\n\t// \t\t\t}\r\n\t// \t\t},\r\n\t// \t});\r\n\t// });\r\n};\r\n"],"names":["gsap","ScrollTrigger","lazyLoad","console","log","$nodes","document","querySelectorAll","length","registerPlugin"],"sourceRoot":""}